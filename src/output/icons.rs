use ansiterm::Style;
use phf::{phf_map, Map};

use crate::fs::File;

#[non_exhaustive]
struct Icons;

#[rustfmt::skip]
impl Icons {
    const AUDIO: char           = '\u{f001}';  // ÔÄÅ
    const BINARY: char          = '\u{eae8}';  // Ó´®
    const BOOK: char            = '\u{e28b}';  // Óäã
    const CALENDAR: char        = '\u{eab0}';  // Ó™∞
    const CLOCK: char           = '\u{f43a}';  // Ôê∫
    const COMPRESSED: char      = '\u{f410}';  // Ôêê
    const CONFIG: char          = '\u{e615}';  // Óòï
    const CRYSTAL: char         = '\u{e62f}';  // ÓòØ
    const CSS3: char            = '\u{e749}';  // Óùâ
    const DATABASE: char        = '\u{f1c0}';  // ÔáÄ
    const DIFF: char            = '\u{f440}';  // ÔëÄ
    const DISK_IMAGE: char      = '\u{e271}';  // Óâ±
    const DOCKER: char          = '\u{e650}';  // Óôê
    const DOCUMENT: char        = '\u{f1c2}';  // ÔáÇ
    const DOWNLOAD: char        = '\u{f01da}'; // Û∞áö
    const DWM: char             = '\u{f356}';  // Ôçñ
    const EMACS: char           = '\u{e632}';  // Óò≤
    const ESLINT: char          = '\u{e655}';  // Óôï
    const FILE: char            = '\u{f15b}';  // ÔÖõ
    const FILE_OUTLINE: char    = '\u{f016}';  // ÔÄñ
    const FOLDER: char          = '\u{e5ff}';  // Óóø
    const FOLDER_CONFIG: char   = '\u{e5fc}';  // Óóº
    const FOLDER_GIT: char      = '\u{e5fb}';  // Óóª
    const FOLDER_GITHUB: char   = '\u{e5fd}';  // ÓóΩ
    const FOLDER_HIDDEN: char   = '\u{f179e}'; // Û±ûû
    const FOLDER_KEY: char      = '\u{f08ac}'; // Û∞¢¨
    const FOLDER_NPM: char      = '\u{e5fa}';  // Óó∫
    const FOLDER_OPEN: char     = '\u{f115}';  // ÔÑï
    const FONT: char            = '\u{f031}';  // ÔÄ±
    const GIST_SECRET: char     = '\u{eafa}';  // Ó´∫
    const GIT: char             = '\u{f1d3}';  // Ôáì
    const GRADLE: char          = '\u{e660}';  // Óô†
    const GRAPHQL: char         = '\u{e662}';  // Óô¢
    const GRUNT: char           = '\u{e611}';  // Óòë
    const GTK: char             = '\u{f362}';  // Ôç¢
    const GULP: char            = '\u{e610}';  // Óòê
    const HEADER: char          = '\u{f0fd}';  // ÔÉΩ
    const HTML5: char           = '\u{f13b}';  // ÔÑª
    const IMAGE: char           = '\u{f1c5}';  // ÔáÖ
    const INTELLIJ: char        = '\u{e7b5}';  // Óûµ
    const JSON: char            = '\u{e60b}';  // Óòã
    const KEY: char             = '\u{eb11}';  // Ó¨ë
    const KEYS: char            = '\u{e60a}';  // Óòä
    const KEYPASS: char         = '\u{f23e}';  // Ôàæ
    const LANG_ASSEMBLY: char   = '\u{e637}';  // Óò∑
    const LANG_C: char          = '\u{e61e}';  // Óòû
    const LANG_CPP: char        = '\u{e61d}';  // Óòù
    const LANG_CSHARP: char     = '\u{f031b}'; // Û∞åõ
    const LANG_D: char          = '\u{e7af}';  // ÓûØ
    const LANG_ELIXIR: char     = '\u{e62d}';  // Óò≠
    const LANG_ERLANG: char     = '\u{e7b1}';  // Óû±
    const LANG_FSHARP: char     = '\u{e7a7}';  // Óûß
    const LANG_GO: char         = '\u{e627}';  // Óòß
    const LANG_GROOVY: char     = '\u{e775}';  // Óùµ
    const LANG_HASKELL: char    = '\u{e777}';  // Óù∑
    const LANG_JAVA: char       = '\u{e256}';  // Óâñ
    const LANG_JAVASCRIPT: char = '\u{e74e}';  // Óùé
    const LANG_KOTLIN: char     = '\u{e634}';  // Óò¥
    const LANG_LISP: char       = '\u{e6b0}';  // Óö∞
    const LANG_OCAML: char      = '\u{e67a}';  // Óô∫
    const LANG_PERL: char       = '\u{e67e}';  // Óôæ
    const LANG_PHP: char        = '\u{e608}';  // Óòà
    const LANG_PYTHON: char     = '\u{e606}';  // ÓòÜ
    const LANG_R: char          = '\u{e68a}';  // Óöä
    const LANG_RUBY: char       = '\u{e21e}';  // Óàû
    const LANG_RUBYRAILS: char  = '\u{e73b}';  // Óúª
    const LANG_RUST: char       = '\u{e68b}';  // Óöã
    const LANG_SASS: char       = '\u{e603}';  // ÓòÉ
    const LANG_STYLUS: char     = '\u{e600}';  // ÓòÄ
    const LANG_TEX: char        = '\u{e69b}';  // Óöõ
    const LANG_TYPESCRIPT: char = '\u{e628}';  // Óò®
    const LANG_ZIG: char        = '\u{e6a9}';  // Óö©
    const LIBRARY: char         = '\u{eb9c}';  // ÓÆú
    const LICENSE: char         = '\u{f02d}';  // ÔÄ≠
    const LOCK: char            = '\u{f023}';  // ÔÄ£
    const MAKE: char            = '\u{e673}';  // Óô≥
    const MARKDOWN: char        = '\u{e609}';  // Óòâ
    const MUSTACHE: char        = '\u{e60f}';  // Óòè
    const NODEJS: char          = '\u{e718}';  // Óúò
    const NPM: char             = '\u{e71e}';  // Óúû
    const OS_ANDROID: char      = '\u{e70e}';  // Óúé
    const OS_APPLE: char        = '\u{f179}';  // ÔÖπ
    const OS_LINUX: char        = '\u{f17c}';  // ÔÖº
    const OS_LINUX_ARCH: char   = '\u{f303}';  // ÔåÉ
    const OS_LINUX_DEBIAN: char = '\u{e77d}';  // ÓùΩ
    const OS_LINUX_GENTOO: char = '\u{f30d}';  // Ôåç
    const OS_LINUX_REDHAT: char = '\u{e7bb}';  // Óûª
    const OS_LINUX_VOID: char   = '\u{f32e}';  // ÔåÆ
    const OS_WINDOWS: char      = '\u{f17a}';  // ÔÖ∫
    const OS_WINDOWS_CMD: char  = '\u{ebc4}';  // ÓØÑ
    const PLAYLIST: char        = '\u{f0cb9}'; // Û∞≤π
    const POWERSHELL: char      = '\u{ebc7}';  // ÓØá
    const PRIVATE_KEY: char     = '\u{f0306}'; // Û∞åÜ
    const PUBLIC_KEY: char      = '\u{f0dd6}'; // Û∞∑ñ
    const RAZOR: char           = '\u{f1fa}';  // Ôá∫
    const REACT: char           = '\u{e7ba}';  // Óû∫
    const README: char          = '\u{f00ba}'; // Û∞Ç∫
    const SHEET: char           = '\u{f1c3}';  // ÔáÉ
    const SHELL: char           = '\u{f1183}'; // Û±ÜÉ
    const SHELL_CMD: char       = '\u{f489}';  // Ôíâ
    const SHIELD_CHECK: char    = '\u{f0565}'; // Û∞ï•
    const SHIELD_KEY: char      = '\u{f0bc4}'; // Û∞ØÑ
    const SHIELD_LOCK: char     = '\u{f099d}'; // Û∞¶ù
    const SIGNED_FILE: char     = '\u{f19c3}'; // Û±ßÉ
    const SLIDE: char           = '\u{f1c4}';  // ÔáÑ
    const SUBLIME: char         = '\u{e7aa}';  // Óû™
    const SUBTITLE: char        = '\u{f0a16}'; // Û∞®ñ
    const SYMLINK: char         = '\u{f481}';  // ÔíÅ
    const SYMLINK_DIR: char     = '\u{f482}';  // ÔíÇ
    const TERRAFORM: char       = '\u{f1062}'; // Û±Å¢
    const TEXT: char            = '\u{f15c}';  // ÔÖú
    const TYPST: char           = '\u{1D42D}'; // ùê≠
    const UNITY: char           = '\u{e721}';  // Óú°
    const VECTOR: char          = '\u{f0559}'; // Û∞ïô
    const VIDEO: char           = '\u{f008}';  // ÔÄà
    const VIM: char             = '\u{e7c5}';  // ÓüÖ
    const WRENCH: char          = '\u{f0ad}';  // ÔÇ≠
    const XML: char             = '\u{f05c0}'; // Û∞óÄ
    const YARN: char            = '\u{e6a7}';  // Óöß
}

/// Mapping from full filenames to directory icon. This mapping should contain
/// all the directories that have a custom icon.
const DIRECTORY_ICONS: Map<&'static str, char> = phf_map! {
    "__pycache__"         => Icons::LANG_PYTHON,
    ".cargo"              => Icons::LANG_RUST,
    ".cache"              => '\u{f0d0b}',           // Û∞¥ã
    ".config"             => Icons::FOLDER_CONFIG,  // Óóº
    ".doom.d"             => Icons::EMACS,
    ".emacs.d"            => Icons::EMACS,
    ".gem"                => Icons::LANG_RUBY,      // Óàû
    ".git"                => Icons::FOLDER_GIT,     // Óóª
    ".github"             => Icons::FOLDER_GITHUB,  // ÓóΩ
    ".gnupg"              => Icons::FOLDER_KEY,     // Û∞¢¨
    ".local"              => Icons::FOLDER_CONFIG,  // Óóº
    ".mozilla"            => '\u{e786}',            // ÓûÜ
    ".node-gyp"           => Icons::FOLDER_NPM,     // Óó∫
    ".nix-defexpr"        => '\u{f313}',            // Ôåì
    ".npm"                => Icons::FOLDER_NPM,     // Óó∫
    ".spacemacs"          => Icons::EMACS,
    ".steam"              => '\u{f1b6}',            // ÔÜ∂
    ".ssh"                => Icons::FOLDER_KEY,     // Û∞¢¨
    ".Trash"              => '\u{f1f8}',            // Ôá∏
    ".vim"                => Icons::VIM,
    "awesome"             => '\u{f354}',            // Ôçî
    "bin"                 => Icons::FOLDER_CONFIG,  // Óóº
    "build"               => '\u{f19fc}',           // Û±ßº
    "config"              => Icons::FOLDER_CONFIG,  // Óóº
    "Contacts"            => '\u{f024c}',           // Û∞âå
    "cron.d"              => Icons::FOLDER_CONFIG,  // Óóº
    "cron.daily"          => Icons::FOLDER_CONFIG,  // Óóº
    "cron.hourly"         => Icons::FOLDER_CONFIG,  // Óóº
    "cron.monthly"        => Icons::FOLDER_CONFIG,  // Óóº
    "cron.weekly"         => Icons::FOLDER_CONFIG,  // Óóº
    "Desktop"             => '\u{f108}',            // ÔÑà
    "Documents"           => '\u{f00d6}',           // Û∞Éñ
    "Downloads"           => '\u{f024d}',           // Û∞âç
    "dmenu"               => Icons::DWM,
    "dwm"                 => Icons::DWM,            // Ôçñ
    "etc"                 => Icons::FOLDER_CONFIG,  // Óóº
    "Favorites"           => '\u{f069d}',           // Û∞öù
    "git"                 => Icons::FOLDER_GIT,     // Óóª
    "gtk-2.0"             => Icons::GTK,            // Ôç¢
    "gtk-3.0"             => Icons::GTK,            // Ôç¢
    "gtk-4.0"             => Icons::GTK,            // Ôç¢
    "hidden"              => Icons::FOLDER_HIDDEN,  // Û±ûû
    "home"                => '\u{f10b5}',           // Û±Çµ
    "hypr"                => '\u{f359}',            // Ôçô
    "include"             => Icons::FOLDER_CONFIG,  // Óóº
    "lib"                 => Icons::XML,
    "lib64"               => Icons::XML,
    "Mail"                => '\u{f01f0}',           // Û∞á∞
    "Movies"              => '\u{f0fce}',           // Û∞øé
    "Music"               => '\u{f1359}',           // Û±çô
    "nix"                 => '\u{f313}',            // Ôåì
    "node_modules"        => Icons::FOLDER_NPM,     // Óó∫
    "npm_cache"           => Icons::FOLDER_NPM,     // Óó∫
    "pam.d"               => Icons::FOLDER_KEY,     // Û∞¢¨
    "portage"             => Icons::OS_LINUX_GENTOO,
    "Pictures"            => '\u{f024f}',           // Û∞âè
    "root"                => '\u{f0250}',           // Û∞âê
    "src"                 => '\u{f19fc}',           // Û±ßº
    "ssh"                 => Icons::FOLDER_KEY,     // Û∞¢¨
    "sudoers.d"           => Icons::FOLDER_KEY,     // Û∞¢¨
    "sway"                => '\u{f35d}',            // Ôçù
    "swaybg"              => '\u{f35d}',            // Ôçù
    "swayimg"             => '\u{f35d}',            // Ôçù
    "swaylock"            => '\u{f35d}',            // Ôçù
    "test"                => '\u{f0668}',           // Û∞ô®
    "tests"               => '\u{f0668}',           // Û∞ô®
    "tmp"                 => '\u{f1f8}',            // Ôá∏
    "Videos"              => '\u{f03d}',            // ÔÄΩ
    "void-packages"       => Icons::OS_LINUX_VOID,
    "xbps.d"              => Icons::FOLDER_CONFIG,  // Óóº
    "xorg.conf.d"         => Icons::FOLDER_CONFIG,  // Óóº
};

/// Mapping from full filenames to file icon. This mapping should also contain
/// all the "dot" files that have a custom icon.
const FILENAME_ICONS: Map<&'static str, char> = phf_map! {
    ".asoundrc"              => Icons::CONFIG,         // Óòï
    ".atom"                  => '\u{e764}',            // Óù§
    ".bashrc"                => Icons::SHELL,          // Û±ÜÉ
    ".bash_history"          => Icons::SHELL,          // Û±ÜÉ
    ".bash_logout"           => Icons::SHELL,          // Û±ÜÉ
    ".bash_profile"          => Icons::SHELL,          // Û±ÜÉ
    ".CFUserTextEncoding"    => Icons::OS_APPLE,       // ÔÖπ
    ".clang-format"          => Icons::CONFIG,         // Óòï
    ".cshrc"                 => Icons::SHELL,          // Û±ÜÉ
    ".DS_Store"              => Icons::OS_APPLE,       // ÔÖπ
    ".doomrc"                => Icons::EMACS,          // Óò≤
    ".emacs"                 => Icons::EMACS,          // Óò≤
    ".env"                   => '\u{f462}',            // Ôë¢
    ".eslintrc.cjs"          => Icons::ESLINT,         // Óôï
    ".eslintrc.js"           => Icons::ESLINT,         // Óôï
    ".eslintrc.json"         => Icons::ESLINT,         // Óôï
    ".eslintrc.yaml"         => Icons::ESLINT,         // Óôï
    ".eslintrc.yml"          => Icons::ESLINT,         // Óôï
    ".git-blame-ignore-revs" => Icons::GIT,            // Ôáì
    ".gitattributes"         => Icons::GIT,            // Ôáì
    ".gitconfig"             => Icons::GIT,            // Ôáì
    ".gitignore"             => Icons::GIT,            // Ôáì
    ".gitignore_global"      => Icons::GIT,            // Ôáì
    ".gitlab-ci.yml"         => '\u{f296}',            // Ôäñ
    ".gitmodules"            => Icons::GIT,            // Ôáì
    ".htaccess"              => Icons::CONFIG,         // Óòï
    ".htpasswd"              => Icons::CONFIG,         // Óòï
    ".idea"                  => Icons::INTELLIJ,       // Óûµ
    ".ideavimrc"             => Icons::VIM,            // ÓüÖ
    ".inputrc"               => Icons::CONFIG,         // Óòï
    ".kshrc"                 => Icons::SHELL,          // Û±ÜÉ
    ".login"                 => Icons::SHELL,          // Û±ÜÉ
    ".logout"                => Icons::SHELL,          // Û±ÜÉ
    ".nix-channels"          => '\u{f313}',            // Ôåì
    ".mailcap"               => '\u{f01f0}',           // Û∞á∞
    ".mailmap"               => Icons::GIT,            // Ôáì
    ".mime.types"            => '\u{f462}',            // Ôë¢
    ".node_repl_history"     => Icons::NODEJS,         // Óúò
    ".npmignore"             => Icons::NPM,            // Óúû
    ".npmrc"                 => Icons::NPM,            // Óúû
    ".profile"               => Icons::SHELL,          // Û±ÜÉ
    ".python_history"        => Icons::LANG_PYTHON,    // ÓòÜ
    ".rustfmt.toml"          => Icons::LANG_RUST,      // Óöã
    ".rvm"                   => Icons::LANG_RUBY,      // Óàû
    ".rvmrc"                 => Icons::LANG_RUBY,      // Óàû
    ".sqlite_history"        => '\u{e7c4}',            // ÓüÑ
    ".swp"                   => Icons::VIM,
    ".tcshrc"                => Icons::SHELL,          // Û±ÜÉ
    ".travis.yml"            => '\u{e77e}',            // Óùæ
    ".viminfo"               => Icons::VIM,            // ÓüÖ
    ".vimrc"                 => Icons::VIM,            // ÓüÖ
    ".Xauthority"            => Icons::CONFIG,         // Óòï
    ".xinitrc"               => Icons::CONFIG,         // Óòï
    ".Xresources"            => Icons::CONFIG,         // Óòï
    ".yarnrc"                => Icons::YARN,           // Óöß
    ".zcompdump"             => Icons::CONFIG,
    ".zlogin"                => Icons::SHELL,          // Û±ÜÉ
    ".zlogout"               => Icons::SHELL,          // Û±ÜÉ
    ".zprofile"              => Icons::SHELL,          // Û±ÜÉ
    ".zshenv"                => Icons::SHELL,          // Û±ÜÉ
    ".zshrc"                 => Icons::SHELL,          // Û±ÜÉ
    ".zsh_history"           => Icons::SHELL,          // Û±ÜÉ
    ".zsh_sessions"          => Icons::SHELL,          // Û±ÜÉ
    "._DS_Store"             => Icons::OS_APPLE,       // ÔÖπ
    "a.out"                  => Icons::SHELL_CMD,      // Ôíâ
    "authorized_keys"        => Icons::KEYS,           // Óòä
    "bashrc"                 => Icons::SHELL,          // Û±ÜÉ
    "bspwmrc"                => '\u{f355}',            // Ôçï
    "build.ninja"            => '\u{f0774}',           // Û∞ù¥
    "build.gradle.kts"       => Icons::GRADLE,         // Óô†
    "Cargo.lock"             => Icons::LANG_RUST,      // Óöã
    "Cargo.toml"             => Icons::LANG_RUST,      // Óöã
    "changelog"              => Icons::CLOCK,
    "CHANGELOG"              => Icons::CLOCK,
    "changelog.txt"          => Icons::CLOCK,
    "chrome-sandbox"         => '\u{f268}',            // Ôâ®
    "chrome_crashpad_handler" => '\u{f268}',           // Ôâ®
    "CMakeLists.txt"         => Icons::MAKE,           // Óô≥
    "cmdline.txt"            => '\u{ef5c}',            // ÓΩú
    "composer.json"          => Icons::LANG_PHP,       // Óòà
    "composer.lock"          => Icons::LANG_PHP,       // Óòà
    "config"                 => Icons::CONFIG,         // Óòï
    "config.def.h"           => Icons::DWM,            // Ôçñ
    "config.el"              => Icons::EMACS,          // Óò≤
    "config.in"              => Icons::CONFIG,         // Óòï
    "config.mk"              => Icons::MAKE,           // Óô≥
    "config.status"          => Icons::CONFIG,         // Óòï
    "config.txt"             => '\u{ef5c}',            // ÓΩú
    "configure"              => Icons::WRENCH,         // ÔÇ≠
    "configure.ac"           => Icons::CONFIG,         // Óòï
    "configure.in"           => Icons::CONFIG,         // Óòï
    "constraints.txt"        => Icons::LANG_PYTHON,    // ÓòÜ
    "CONTRIBUTING"           => Icons::LICENSE,        // ÔÄ≠
    "COPYING"                => Icons::LICENSE,        // ÔÄ≠
    "COPYRIGHT"              => Icons::LICENSE,        // ÔÄ≠
    "cron.deny"              => Icons::CONFIG,         // Óòï
    "crontab"                => Icons::CONFIG,         // Óòï
    "crypttab"               => Icons::CONFIG,         // Óòï
    "csh.cshrc"              => Icons::SHELL,          // Û±ÜÉ
    "csh.login"              => Icons::SHELL,          // Û±ÜÉ
    "csh.logout"             => Icons::SHELL,          // Û±ÜÉ
    "docker-compose.yml"     => Icons::DOCKER,         // Óôê
    "Dockerfile"             => Icons::DOCKER,         // Óôê
    "dmenu.c"                => Icons::DWM,            // Ôçñ
    "dwm.c"                  => Icons::DWM,            // Ôçñ
    "Earthfile"              => '\u{f0ac}',            // ÔÇ¨
    "environment"            => Icons::CONFIG,         // Óòï
    "flake.lock"             => '\u{f313}',            // Ôåì
    "fstab"                  => Icons::DATABASE,       // ÔáÄ
    "gameinfo.txt"           => '\u{f1b6}',            // ÔÜ∂
    "gamestate.txt"          => '\u{f1b6}',            // ÔÜ∂
    "GNUmakefile"            => Icons::MAKE,           // Óô≥
    "github_rsa"             => Icons::PRIVATE_KEY,    // Û∞åÜ
    "go.mod"                 => Icons::LANG_GO,        // Óòß
    "go.sum"                 => Icons::LANG_GO,        // Óòß
    "go.work"                => Icons::LANG_GO,        // Óòß
    "gradle"                 => Icons::GRADLE,         // Óô†
    "gradle.properties"      => Icons::GRADLE,         // Óô†
    "gradlew"                => Icons::GRADLE,         // Óô†
    "gradlew.bat"            => Icons::GRADLE,         // Óô†
    "group"                  => Icons::LOCK,           // ÔÄ£
    "gruntfile.coffee"       => Icons::GRUNT,          // Óòë
    "gruntfile.js"           => Icons::GRUNT,          // Óòë
    "gruntfile.ls"           => Icons::GRUNT,          // Óòë
    "gshadow"                => Icons::LOCK,           // ÔÄ£
    "gulpfile.coffee"        => Icons::GULP,           // Óòê
    "gulpfile.js"            => Icons::GULP,           // Óòê
    "gulpfile.ls"            => Icons::GULP,           // Óòê
    "heroku.yml"             => '\u{e77b}',            // Óùª
    "home"                   => '\u{f10b5}',           // Û±Çµ
    "hostname"               => Icons::CONFIG,         // Óòï
    "hosts"                  => Icons::CONFIG,         // Óòï
    "hypridle.conf"          => '\u{f359}',            // Ôçô
    "hyprland.conf"          => '\u{f359}',            // Ôçô
    "hyprlock.conf"          => '\u{f359}',            // Ôçô
    "id_dsa"                 => Icons::PRIVATE_KEY,    // Û∞åÜ
    "id_ecdsa"               => Icons::PRIVATE_KEY,    // Û∞åÜ
    "id_ecdsa_sk"            => Icons::PRIVATE_KEY,    // Û∞åÜ
    "id_ed25519"             => Icons::PRIVATE_KEY,    // Û∞åÜ
    "id_ed25519_sk"          => Icons::PRIVATE_KEY,    // Û∞åÜ
    "id_rsa"                 => Icons::PRIVATE_KEY,    // Û∞åÜ
    "init.el"                => Icons::EMACS,          // Óò≤
    "inputrc"                => Icons::CONFIG,         // Óòï
    "Jenkinsfile"            => '\u{e66e}',            // ÓôÆ
    "jsconfig.json"          => Icons::LANG_JAVASCRIPT,// Óùé
    "Justfile"               => Icons::WRENCH,         // ÔÇ≠
    "kbuild"                 => Icons::OS_LINUX,       // ÔÖº
    "kconfig"                => Icons::OS_LINUX,       // ÔÖº
    "Kbuild"                 => Icons::OS_LINUX,       // ÔÖº
    "Kconfig"                => Icons::OS_LINUX,       // ÔÖº
    "known_hosts"            => Icons::KEYS,           // Óòä
    "LICENCE"                => Icons::LICENSE,        // ÔÄ≠
    "LICENCE.md"             => Icons::LICENSE,        // ÔÄ≠
    "LICENCE.txt"            => Icons::LICENSE,        // ÔÄ≠
    "LICENSE"                => Icons::LICENSE,        // ÔÄ≠
    "LICENSE-APACHE"         => Icons::LICENSE,        // ÔÄ≠
    "LICENSE-MIT"            => Icons::LICENSE,        // ÔÄ≠
    "LICENSE.md"             => Icons::LICENSE,        // ÔÄ≠
    "LICENSE.txt"            => Icons::LICENSE,        // ÔÄ≠
    "localized"              => Icons::OS_APPLE,       // ÔÖπ
    "localtime"              => Icons::CLOCK,          // Ôê∫
    "Makefile"               => Icons::MAKE,           // Óô≥
    "makefile"               => Icons::MAKE,           // Óô≥
    "Makefile.ac"            => Icons::MAKE,           // Óô≥
    "Makefile.am"            => Icons::MAKE,           // Óô≥
    "Makefile.in"            => Icons::MAKE,           // Óô≥
    "MANIFEST"               => Icons::LANG_PYTHON,    // ÓòÜ
    "MANIFEST.in"            => Icons::LANG_PYTHON,    // ÓòÜ
    "md5sum.txt"             => Icons::SHIELD_CHECK,
    "meson.build"            => Icons::WRENCH,         // ÔÇ≠
    "mime.types"             => '\u{f462}',            // Ôë¢
    "mpv.conf"               => '\u{f36e}',            // ÔçÆ
    "npm-shrinkwrap.json"    => Icons::NPM,            // Óúû
    "npmrc"                  => Icons::NPM,            // Óúû
    "package-lock.json"      => Icons::NODEJS,         //
    "package.json"           => Icons::NODEJS,         //
    "packages.el"            => Icons::EMACS,
    "passwd"                 => Icons::LOCK,           // ÔÄ£
    "PKGBUILD"               => Icons::OS_LINUX_ARCH,  // ÔåÉ
    "php.ini"                => Icons::LANG_PHP,       // Óòà
    "pom.xml"                => '\u{e674}',            // Óô¥
    "Procfile"               => '\u{e77b}',            // Óùª
    "profile"                => Icons::SHELL,          // Û±ÜÉ
    "pyproject.toml"         => Icons::LANG_PYTHON,    // ÓòÜ
    "Rakefile"               => Icons::LANG_RUBY,      // Óàû
    "README"                 => Icons::README,         // Û∞Ç∫
    "rc.lua"                 => '\u{f354}',            // Ôçî
    "release.toml"           => Icons::LANG_RUST,      // Óöã
    "resources.pak"          => '\u{f268}',            // Ôâ®
    "requirements.txt"       => Icons::LANG_PYTHON,    // ÓòÜ
    "robots.txt"             => '\u{f06a9}',           // Û∞ö©
    "rubydoc"                => Icons::LANG_RUBYRAILS, // Óúª
    "rustfmt.toml"           => Icons::LANG_RUST,      // Óöã
    "rvmrc"                  => Icons::LANG_RUBY,      // Óàû
    "settings.gradle.kts"    => Icons::GRADLE,         // Óâñ
    "sha256sum.txt"          => Icons::SHIELD_CHECK,
    "shadow"                 => Icons::LOCK,           // ÔÄ£
    "shard.lock"             => Icons::CRYSTAL,        // ÓòØ
    "shard.yml"              => Icons::CRYSTAL,        // ÓòØ
    "shells"                 => Icons::CONFIG,         // Óòï
    "snapshot_blob.bin"      => '\u{f268}',            // Ôâ®
    "steam_appid.txt"        => '\u{f1b6}',            // ÔÜ∂
    "subgid"                 => Icons::CONFIG,         // Óòï
    "subuid"                 => Icons::CONFIG,         // Óòï
    "sudoers"                => Icons::LOCK,           // ÔÄ£
    "sxhkdrc"                => '\u{f355}',            // Ôçï
    "timezone"               => Icons::CLOCK,          // Ôê∫
    "tsconfig.json"          => Icons::LANG_TYPESCRIPT,// Óò®
    "Vagrantfile"            => '\u{2371}',            // ‚ç±
    "v8_context_snapshot.bin" => '\u{f268}',           // Ôâ®
    "webpack.config.js"      => '\u{f072b}',           // Û∞ú´
    "xbps-src"               => Icons::OS_LINUX_VOID,  // ÔåÆ
    "yarn.lock"              => Icons::YARN,           // Óöß
    "zlogin"                 => Icons::SHELL,          // Û±ÜÉ
    "zlogout"                => Icons::SHELL,          // Û±ÜÉ
    "zprofile"               => Icons::SHELL,          // Û±ÜÉ
    "zshenv"                 => Icons::SHELL,          // Û±ÜÉ
    "zshrc"                  => Icons::SHELL,          // Û±ÜÉ
};

/// Mapping from lowercase file extension to icons.  If an image, video, or audio extension is add
/// also update the extension filetype map.
const EXTENSION_ICONS: Map<&'static str, char> = phf_map! {
    "1"              => '\u{f02d}',              // ÔÄ≠
    "2"              => '\u{f02d}',              // ÔÄ≠
    "3"              => '\u{f02d}',              // ÔÄ≠
    "4"              => '\u{f02d}',              // ÔÄ≠
    "5"              => '\u{f02d}',              // ÔÄ≠
    "7z"             => Icons::COMPRESSED,       // Ôêê
    "a"              => Icons::BINARY,
    "acc"            => Icons::AUDIO,            // ÔÄÅ
    "acf"            => '\u{f1b6}',              // ÔÜ∂
    "added"          => '\u{f076}',              // ÔÅ∂
    "ai"             => '\u{e7b4}',              // Óû¥
    "aif"            => Icons::AUDIO,            // ÔÄÅ
    "aifc"           => Icons::AUDIO,            // ÔÄÅ
    "aiff"           => Icons::AUDIO,            // ÔÄÅ
    "ain"            => '\u{f1b6}',
    "alac"           => Icons::AUDIO,            // ÔÄÅ
    "android"        => Icons::OS_ANDROID,       // Óúé
    "ape"            => Icons::AUDIO,            // ÔÄÅ
    "apk"            => Icons::OS_ANDROID,       // Óúé
    "appimage"       => Icons::DISK_IMAGE,
    "apple"          => Icons::OS_APPLE,         // ÔÖπ
    "ar"             => Icons::COMPRESSED,       // Ôêê
    "arj"            => Icons::COMPRESSED,       // Ôêê
    "arw"            => Icons::IMAGE,            // ÔáÖ
    "asc"            => Icons::SHIELD_LOCK,      // Û∞¶ù
    "asm"            => '\u{f471}',              // Ôë±
    "asp"            => '\u{f121}',              // ÔÑ°
    "aspx"           => '\u{f121}',              // ÔÑ°
    "aup"            => Icons::AUDIO,
    "aup3"           => Icons::AUDIO,
    "avi"            => Icons::VIDEO,            // ÔÄΩ
    "avif"           => Icons::IMAGE,            // ÔáÖ
    "avro"           => Icons::JSON,             // Óòã
    "awk"            => Icons::SHELL_CMD,        // Ôíâ
    "bash"           => Icons::SHELL_CMD,        // Ôíâ
    "bat"            => Icons::OS_WINDOWS_CMD,   // ÓØÑ
    "bats"           => Icons::SHELL_CMD,        // Ôíâ
    "bdf"            => Icons::FONT,             // ÔÄ±
    "bib"            => Icons::LANG_TEX,         // Óöõ
    "bin"            => Icons::BINARY,           // Ó´®
    "bmp"            => Icons::IMAGE,            // ÔáÖ
    "bmz"            => Icons::COMPRESSED,
    "bns"            => Icons::JSON,
    "br"             => Icons::COMPRESSED,       // Ôêê
    "bsp"            => '\u{f1b6}',              // ÔÜ∂
    "bst"            => Icons::LANG_TEX,         // Óöõ
    "bundle"         => Icons::OS_APPLE,         // ÔÖπ
    "bz"             => Icons::COMPRESSED,       // Ôêê
    "bz2"            => Icons::COMPRESSED,       // Ôêê
    "bz3"            => Icons::COMPRESSED,       // Ôêê
    "c"              => Icons::LANG_C,           // Óòû
    "c++"            => Icons::LANG_CPP,         // Óòù
    "cab"            => Icons::OS_WINDOWS,       // ÔÖ∫
    "cbr"            => Icons::IMAGE,            // ÔáÖ
    "cbz"            => Icons::IMAGE,            // ÔáÖ
    "cc"             => Icons::LANG_CPP,         // Óòù
    "cert"           => Icons::GIST_SECRET,      // Ó´∫
    "cfg"            => Icons::CONFIG,           // Óòï
    "cgi"            => Icons::LANG_PERL,        // Óôæ
    "cjs"            => Icons::LANG_JAVASCRIPT,  // Óùé
    "class"          => Icons::LANG_JAVA,        // Óâñ
    "clj"            => '\u{e768}',              // Óù®
    "cljs"           => '\u{e76a}',              // Óù™
    "cls"            => Icons::LANG_TEX,         // Óöõ
    "cmake"          => Icons::MAKE,             // Óô≥
    "cmd"            => Icons::OS_WINDOWS,       // ÔÖ∫
    "coffee"         => '\u{f0f4}',              // ÔÉ¥
    "com"            => Icons::OS_WINDOWS_CMD,   // ÓØÑ
    "conf"           => Icons::CONFIG,           // Óòï
    "config"         => Icons::CONFIG,           // Óòï
    "cp"             => Icons::LANG_CPP,         // Óòù
    "cpio"           => Icons::COMPRESSED,       // Ôêê
    "cpp"            => Icons::LANG_CPP,         // Óòù
    "cr"             => Icons::CRYSTAL,          // ÓòØ
    "cr2"            => Icons::IMAGE,            // ÔáÖ
    "crate"          => Icons::LANG_RUST,
    "crdownload"     => Icons::CLOCK,            // Û∞áö
    "crt"            => Icons::GIST_SECRET,      // Ó´∫
    "cs"             => Icons::LANG_CSHARP,      // Û∞åõ
    "csh"            => Icons::SHELL_CMD,        // Ôíâ
    "cshtml"         => Icons::RAZOR,            // Ôá∫
    "csproj"         => Icons::LANG_CSHARP,      // Û∞åõ
    "css"            => Icons::CSS3,             // Óùâ
    "csv"            => Icons::SHEET,            // ÔáÉ
    "csx"            => Icons::LANG_CSHARP,      // Û∞åõ
    "cts"            => Icons::LANG_TYPESCRIPT,  // Óò®
    "cu"             => '\u{e64b}',              // Óôã
    "cue"            => Icons::PLAYLIST,         // Û∞≤π
    "cxx"            => Icons::LANG_CPP,         // Óòù
    "d"              => Icons::LANG_D,           // ÓûØ
    "dart"           => '\u{e798}',              // Óûò
    "dat"            => Icons::OS_WINDOWS,
    "db"             => Icons::DATABASE,         // ÔáÄ
    "deb"            => '\u{f187}',              // ÔÜá
    "desktop"        => '\u{ebd1}',              // ÓØë
    "di"             => Icons::LANG_D,           // ÓûØ
    "diff"           => Icons::DIFF,             // ÔëÄ
    "djv"            => Icons::DOCUMENT,         // ÔáÇ
    "djvu"           => Icons::DOCUMENT,         // ÔáÇ
    "dll"            => Icons::LIBRARY,          // ÓÆú
    "dmg"            => Icons::DISK_IMAGE,       // Óâ±
    "doc"            => Icons::DOCUMENT,         // ÔáÇ
    "docx"           => Icons::DOCUMENT,         // ÔáÇ
    "dot"            => '\u{f1049}',             // Û±Åâ
    "download"       => Icons::CLOCK,
    "drawio"         => '\u{ebba}',              // ÓÆ∫
    "dump"           => Icons::DATABASE,         // ÓúÜ
    "dvi"            => Icons::IMAGE,            // ÔáÖ
    "dylib"          => Icons::OS_APPLE,         // ÔÖπ
    "ebook"          => Icons::BOOK,             // Óäã
    "ebuild"         => Icons::OS_LINUX_GENTOO,  // Ôåç
    "eclass"         => Icons::OS_LINUX_GENTOO,  // Ôåç
    "editorconfig"   => Icons::CONFIG,           // Óòï
    "ejs"            => '\u{e618}',              // Óòò
    "el"             => Icons::LANG_LISP,        // Óö∞
    "elc"            => Icons::LANG_LISP,        // Óö∞
    "elf"            => Icons::OS_LINUX,         // ÔÖº
    "elm"            => '\u{e62c}',              // Óò¨
    "eml"            => '\u{f003}',              // ÔÄÉ
    "env"            => '\u{f462}',              // Ôë¢
    "eot"            => Icons::FONT,             // ÔÄ±
    "eps"            => Icons::VECTOR,           // Û∞ïô
    "epub"           => Icons::BOOK,             // Óäã
    "erb"            => Icons::LANG_RUBYRAILS,   // Óúª
    "erl"            => Icons::LANG_ERLANG,      // Óû±
    "ex"             => Icons::LANG_ELIXIR,      // Óò≠
    "exe"            => Icons::OS_WINDOWS,
    "exs"            => Icons::LANG_ELIXIR,      // Óò≠
    "fdmdownload"    => Icons::DOWNLOAD,         // Û∞áö
    "fifo"           => '\u{f07e5}',             // Û∞à≤
    "fish"           => Icons::SHELL_CMD,        // Ôíâ
    "flac"           => Icons::AUDIO,            // ÔÄÅ
    "flv"            => Icons::VIDEO,            // ÔÄΩ
    "fnt"            => Icons::FONT,             // ÔÄ±
    "fon"            => Icons::FONT,             // ÔÄ±
    "font"           => Icons::FONT,             // ÔÄ±
    "fs"             => Icons::LANG_FSHARP,      // Óûß
    "fsi"            => Icons::LANG_FSHARP,      // Óûß
    "fsx"            => Icons::LANG_FSHARP,      // Óûß
    "gdoc"           => Icons::DOCUMENT,         // ÔáÇ
    "gem"            => Icons::LANG_RUBY,        // Óàû
    "gemfile"        => Icons::LANG_RUBY,        // Óàû
    "gemspec"        => Icons::LANG_RUBY,        // Óàû
    "gform"          => '\u{f298}',              // Ôäò
    "gif"            => Icons::IMAGE,            // ÔáÖ
    "git"            => Icons::GIT,              // Ôáì
    "go"             => Icons::LANG_GO,          // Óòß
    "gpg"            => Icons::SHIELD_LOCK,      // Û∞¶ù
    "gpg-agent"      => Icons::SHIELD_LOCK,
    "gql"            => Icons::GRAPHQL,          // Óô¢
    "gradle"         => Icons::GRADLE,           // Óô†
    "graphql"        => Icons::GRAPHQL,          // Óô¢
    "groovy"         => Icons::LANG_GROOVY,      // Óùµ
    "gsheet"         => Icons::SHEET,            // ÔáÉ
    "gslides"        => Icons::SLIDE,            // ÔáÑ
    "guardfile"      => Icons::LANG_RUBY,        // Óàû
    "gv"             => '\u{f1049}',             // Û±Åâ
    "gvy"            => Icons::LANG_GROOVY,      // Óùµ
    "gz"             => Icons::COMPRESSED,       // Ôêê
    "h"              => Icons::HEADER,           // ÔÉΩ
    "h++"            => Icons::HEADER,           // ÔÉΩ
    "h264"           => Icons::VIDEO,            // ÔÄΩ
    "haml"           => '\u{e664}',              // Óô§
    "hbs"            => Icons::MUSTACHE,         // Óòè
    "heic"           => Icons::IMAGE,            // ÔáÖ
    "heics"          => Icons::VIDEO,            // ÔÄΩ
    "heif"           => Icons::IMAGE,            // ÔáÖ
    "hrl"            => Icons::LANG_ERLANG,      // Óû±
    "hpp"            => Icons::HEADER,           // ÔÉΩ
    "hs"             => Icons::LANG_HASKELL,     // Óù∑
    "htm"            => Icons::HTML5,            // ÔÑª
    "html"           => Icons::HTML5,            // ÔÑª
    "hxx"            => Icons::HEADER,           // ÔÉΩ
    "ical"           => Icons::CALENDAR,         // ÔÅ≥
    "icalendar"      => Icons::CALENDAR,         // ÔÅ≥
    "ico"            => Icons::IMAGE,            // ÔáÖ
    "icns"           => Icons::IMAGE,
    "ics"            => Icons::CALENDAR,         // ÔÅ≥
    "idx"            => Icons::CONFIG,
    "ifb"            => Icons::CALENDAR,         // ÔÅ≥
    "image"          => Icons::DISK_IMAGE,       // Óâ±
    "img"            => Icons::DISK_IMAGE,       // Óâ±
    "iml"            => Icons::INTELLIJ,         // Óûµ
    "inf"            => Icons::OS_WINDOWS,
    "inl"            => Icons::LANG_C,           // Óòû
    "ini"            => Icons::CONFIG,           // Óòï
    "ipynb"          => '\u{e678}',              // Óô∏
    "iso"            => Icons::DISK_IMAGE,       // Óâ±
    "j2c"            => Icons::IMAGE,            // ÔáÖ
    "j2k"            => Icons::IMAGE,            // ÔáÖ
    "jad"            => Icons::LANG_JAVA,        // Óâñ
    "jar"            => Icons::LANG_JAVA,        // Óâñ
    "java"           => Icons::LANG_JAVA,        // Óâñ
    "jfi"            => Icons::IMAGE,            // ÔáÖ
    "jfif"           => Icons::IMAGE,            // ÔáÖ
    "jif"            => Icons::IMAGE,            // ÔáÖ
    "jl"             => '\u{e624}',              // Óò§
    "jmd"            => Icons::MARKDOWN,         // Ôíä
    "jp2"            => Icons::IMAGE,            // ÔáÖ
    "jpe"            => Icons::IMAGE,            // ÔáÖ
    "jpeg"           => Icons::IMAGE,            // ÔáÖ
    "jpf"            => Icons::IMAGE,            // ÔáÖ
    "jpg"            => Icons::IMAGE,            // ÔáÖ
    "jpx"            => Icons::IMAGE,            // ÔáÖ
    "js"             => Icons::LANG_JAVASCRIPT,  // Óùé
    "json"           => Icons::JSON,             // Óòã
    "jsp"            => Icons::LANG_JAVA,        // Óâñ
    "jsx"            => Icons::REACT,            // Óû∫
    "jxl"            => Icons::IMAGE,            // ÔáÖ
    "kbx"            => Icons::SHIELD_KEY,       // Û∞ØÑ
    "kdb"            => Icons::KEYPASS,          // Ôàæ
    "kdbx"           => Icons::KEYPASS,          // Ôàæ
    "key"            => Icons::KEY,              // Ó¨ë
    "ko"             => Icons::OS_LINUX,         // ÔÖº
    "ksh"            => Icons::SHELL_CMD,        // Ôíâ
    "kt"             => Icons::LANG_KOTLIN,      // Óò¥
    "kts"            => Icons::LANG_KOTLIN,      // Óò¥
    "latex"          => Icons::LANG_TEX,         // Óöõ
    "ld"             => Icons::WRENCH,           // ÔÇ≠
    "ldb"            => Icons::DATABASE,         // ÓúÜ
    "less"           => '\u{e758}',              // Óùò
    "lhs"            => Icons::LANG_HASKELL,     // Óù∑
    "lib"            => Icons::LIBRARY,          // ÓÆú
    "license"        => Icons::LICENSE,          // ÔÄ≠
    "lisp"           => '\u{f0172}',             // Û∞Ö≤
    "localized"      => Icons::OS_APPLE,         // ÔÖπ
    "lock"           => Icons::LOCK,             // ÔÄ£
    "log"            => '\u{f18d}',              // ÔÜç
    "ltx"            => Icons::LANG_TEX,         // Óöõ
    "lua"            => '\u{e620}',              // Óò†
    "lss"            => '\u{e758}',              // Óùò
    "lz"             => Icons::COMPRESSED,       // Ôêê
    "lz4"            => Icons::COMPRESSED,       // Ôêê
    "lzh"            => Icons::COMPRESSED,       // Ôêê
    "lzma"           => Icons::COMPRESSED,       // Ôêê
    "lzo"            => Icons::COMPRESSED,       // Ôêê
    "m"              => Icons::LANG_C,           // Óòû
    "m2ts"           => Icons::VIDEO,            // ÔÄΩ
    "m2v"            => Icons::VIDEO,            // ÔÄΩ
    "m3u"            => Icons::PLAYLIST,         // Û∞≤π
    "m3u8"           => Icons::PLAYLIST,         // Û∞≤π
    "m4a"            => Icons::AUDIO,            // ÔÄÅ
    "m4v"            => Icons::VIDEO,            // ÔÄΩ
    "magnet"         => '\u{f076}',              // ÔÅ∂
    "map"            => Icons::LANG_JAVASCRIPT,
    "markdown"       => Icons::MARKDOWN,         // Óòâ
    "md"             => Icons::MARKDOWN,         // Óòâ
    "md5"            => Icons::SHIELD_CHECK,     // Û∞ï•
    "mdb"            => Icons::DATABASE,         // ÓúÜ
    "mdl"            => '\u{f1b6}',              // ÔÜ∂
    "mhtml"          => Icons::HTML5,
    "mid"            => '\u{f08f2}',             // Û∞£≤
    "mjs"            => Icons::LANG_JAVASCRIPT,  // Óùé
    "mk"             => Icons::MAKE,             // Óô≥
    "mka"            => Icons::AUDIO,            // ÔÄÅ
    "mkd"            => Icons::MARKDOWN,         // Ôíä
    "mkv"            => Icons::VIDEO,            // ÔÄΩ
    "ml"             => Icons::LANG_OCAML,       // Óô∫
    "mli"            => Icons::LANG_OCAML,       // Óô∫
    "mll"            => Icons::LANG_OCAML,       // Óô∫
    "mly"            => Icons::LANG_OCAML,       // Óô∫
    "mm"             => Icons::LANG_CPP,         // Óòù
    "mobi"           => Icons::BOOK,             // Óäã
    "mov"            => Icons::VIDEO,            // ÔÄΩ
    "mp2"            => Icons::AUDIO,            // ÔÄÅ
    "mp3"            => Icons::AUDIO,            // ÔÄÅ
    "mp4"            => Icons::VIDEO,            // ÔÄΩ
    "mpeg"           => Icons::VIDEO,            // ÔÄΩ
    "mpg"            => Icons::VIDEO,            // ÔÄΩ
    "mpy"            => Icons::LANG_PYTHON,
    "msi"            => Icons::OS_WINDOWS,       // ÔÖ∫
    "mts"            => Icons::LANG_TYPESCRIPT,  // Óò®
    "mustache"       => Icons::MUSTACHE,         // Óòè
    "nef"            => Icons::IMAGE,            // ÔáÖ
    "nfo"            => Icons::TEXT,
    "ninja"          => '\u{f0774}',             // Û∞ù¥
    "nix"            => '\u{f313}',              // Ôåì
    "node"           => Icons::NODEJS,           // Óúò
    "o"              => Icons::BINARY,           // Ó´®
    "odp"            => Icons::SLIDE,            // ÔáÑ
    "ods"            => Icons::SHEET,            // ÔáÉ
    "odt"            => Icons::DOCUMENT,         // ÔáÇ
    "ogg"            => Icons::AUDIO,            // ÔÄÅ
    "ogm"            => Icons::VIDEO,            // ÔÄΩ
    "ogv"            => Icons::VIDEO,            // ÔÄΩ
    "old"            => '\u{f006f}',             // Û∞ÅØ
    "opus"           => Icons::AUDIO,            // ÔÄÅ
    "orf"            => Icons::IMAGE,            // ÔáÖ
    "org"            => '\u{e633}',              // Óò≥
    "orig"           => '\u{f006f}',             // Û∞ÅØ
    "otf"            => Icons::FONT,             // ÔÄ±
    "out"            => '\u{eb2c}',              // Ó¨¨
    "p12"            => Icons::KEY,              // Ó¨ë
    "par"            => Icons::COMPRESSED,       // Ôêê
    "part"           => Icons::CLOCK,            // Û∞áö
    "patch"          => Icons::DIFF,             // ÔëÄ
    "pbm"            => Icons::IMAGE,            // ÔáÖ
    "pcm"            => Icons::AUDIO,            // ÔÄÅ
    "pcf"            => '\u{f1b6}',              // ÔÜ∂
    "pdf"            => '\u{f1c1}',              // ÔáÅ
    "pem"            => Icons::KEY,              // Ó¨ë
    "pfx"            => Icons::KEY,              // Ó¨ë
    "pgm"            => Icons::IMAGE,            // ÔáÖ
    "phar"           => Icons::LANG_PHP,         // Óòà
    "php"            => Icons::LANG_PHP,         // Óòà
    "phy"            => '\u{f1b6}',              // ÔÜ∂
    "pipe"           => '\u{f07e5}',             // Û∞à≤
    "pkg"            => '\u{eb29}',              // Ó¨©
    "pl"             => Icons::LANG_PERL,        // Óôæ
    "plist"          => Icons::OS_APPLE,         // ÔÖπ
    "plx"            => Icons::LANG_PERL,        // Óôæ
    "pm"             => Icons::LANG_PERL,        // Óôæ
    "png"            => Icons::IMAGE,            // ÔáÖ
    "pnm"            => Icons::IMAGE,            // ÔáÖ
    "pod"            => Icons::LANG_PERL,        // Óôæ
    "pp"             => '\u{e631}',              // Óò±
    "ppm"            => Icons::IMAGE,            // ÔáÖ
    "pps"            => Icons::SLIDE,            // ÔáÑ
    "ppsx"           => Icons::SLIDE,            // ÔáÑ
    "ppt"            => Icons::SLIDE,            // ÔáÑ
    "pptx"           => Icons::SLIDE,            // ÔáÑ
    "properties"     => Icons::JSON,             // Óòã
    "ps"             => Icons::VECTOR,           // Û∞ïô
    "ps1"            => Icons::POWERSHELL,       // ÓØá
    "psd"            => '\u{e7b8}',              // Óû∏
    "psd1"           => Icons::POWERSHELL,       // ÓØá
    "psf"            => Icons::FONT,             // ÔÄ±
    "psm1"           => Icons::POWERSHELL,       // ÓØá
    "pub"            => Icons::PUBLIC_KEY,       // Û∞∑ñ
    "purs"           => '\u{e630}',              // Óò∞
    "pxm"            => Icons::IMAGE,            // ÔáÖ
    "py"             => Icons::LANG_PYTHON,      // ÓòÜ
    "pyc"            => Icons::LANG_PYTHON,      // ÓòÜ
    "pyd"            => Icons::LANG_PYTHON,      // ÓòÜ
    "pyi"            => Icons::LANG_PYTHON,      // ÓòÜ
    "pyo"            => Icons::LANG_PYTHON,      // ÓòÜ
    "qcow"           => Icons::DISK_IMAGE,       // Óâ±
    "qcow2"          => Icons::DISK_IMAGE,       // Óâ±
    "r"              => Icons::LANG_R,           // Óöä
    "rar"            => Icons::COMPRESSED,       // Ôêê
    "raw"            => Icons::IMAGE,            // ÔáÖ
    "razor"          => Icons::RAZOR,            // Ôá∫
    "rb"             => Icons::LANG_RUBY,        // Óàû
    "rdata"          => Icons::LANG_R,           // Óöä
    "rdb"            => '\u{e76d}',              // Óù≠
    "rdoc"           => Icons::MARKDOWN,         // Ôíä
    "rds"            => Icons::LANG_R,           // Óöä
    "readme"         => Icons::README,           // Û∞Ç∫
    "res"            => '\u{f1b6}',              // ÔÜ∂
    "rlib"           => Icons::LANG_RUST,        // Óöã
    "rmd"            => Icons::MARKDOWN,         // Óöã
    "rmeta"          => Icons::LANG_RUST,        // Óöã
    "rpm"            => '\u{f187}',              // ÔÜá
    "rs"             => Icons::LANG_RUST,        // Óöã
    "rspec"          => Icons::LANG_RUBY,        // Óàû
    "rspec_parallel" => Icons::LANG_RUBY,        // Óàû
    "rspec_status"   => Icons::LANG_RUBY,        // Óàû
    "rss"            => '\u{f09e}',              // ÔÇû
    "rst"            => Icons::TEXT,             // ÔÖú
    "rtf"            => Icons::TEXT,             // ÔÖú
    "ru"             => Icons::LANG_RUBY,        // Óàû
    "rubydoc"        => Icons::LANG_RUBYRAILS,   // Óúª
    "s"              => '\u{f471}',              // Ôë±
    "sass"           => Icons::LANG_SASS,        // ÓòÉ
    "sbt"            => Icons::SUBTITLE,         // Û∞®ñ
    "scala"          => '\u{e737}',              // Óú∑
    "scd"            => '\u{f02d}',              // ÔÄ≠
    "scpt"           => Icons::OS_APPLE,         // ÔÖπ
    "scss"           => Icons::LANG_SASS,        // ÓòÉ
    "service"        => '\u{eba2}',              // ÓÆ¢i
    "sfo"            => Icons::SHIELD_CHECK,
    "sh"             => Icons::SHELL_CMD,        // Ôíâ
    "sha1"           => Icons::SHIELD_CHECK,     // Û∞ï•
    "sha224"         => Icons::SHIELD_CHECK,     // Û∞ï•
    "sha256"         => Icons::SHIELD_CHECK,     // Û∞ï•
    "sha384"         => Icons::SHIELD_CHECK,     // Û∞ï•
    "sha512"         => Icons::SHIELD_CHECK,     // Û∞ï•
    "shell"          => Icons::SHELL_CMD,        // Ôíâ
    "shtml"          => Icons::HTML5,            // ÔÑª
    "sig"            => Icons::SHIELD_CHECK,     // Û∞ï•
    "sig2"           => Icons::SHIELD_CHECK,     // Û∞ï•
    "signature"      => Icons::SHIELD_CHECK,     // Û∞ï•
    "slim"           => Icons::LANG_RUBYRAILS,   // Óúª
    "sln"            => '\u{e70c}',              // Óúå
    "so"             => '\u{eae8}',
    "sock"           => '\u{f07e5}',
    "sql"            => Icons::DATABASE,         // ÓúÜ
    "sqlite3"        => '\u{e7c4}',              // ÓüÑ
    "srt"            => Icons::SUBTITLE,         // Û∞®ñ
    "ssa"            => Icons::SUBTITLE,         // Û∞®ñ
    "stl"            => Icons::IMAGE,            // ÔáÖ
    "sty"            => Icons::LANG_TEX,         // Óöõ
    "styl"           => Icons::LANG_STYLUS,      // ÓòÄ
    "stylus"         => Icons::LANG_STYLUS,      // ÓòÄ
    "sub"            => Icons::SUBTITLE,         // Û∞®ñ
    "sublime-build"  => Icons::SUBLIME,          // Óû™
    "sublime-keymap" => Icons::SUBLIME,          // Óû™
    "sublime-menu"   => Icons::SUBLIME,          // Óû™
    "sublime-options"=> Icons::SUBLIME,          // Óû™
    "sublime-package"=> Icons::SUBLIME,          // Óû™
    "sublime-project"=> Icons::SUBLIME,          // Óû™
    "sublime-session"=> Icons::SUBLIME,          // Óû™
    "sublime-settings"=>Icons::SUBLIME,          // Óû™
    "sublime-snippet"=> Icons::SUBLIME,          // Óû™
    "sublime-theme"  => Icons::SUBLIME,          // Óû™
    "svelte"         => '\u{e697}',              // Óöó
    "svg"            => Icons::VECTOR,           // Û∞ïô
    "swp"            => Icons::VIM,
    "swift"          => '\u{e755}',              // Óùï
    "sym"            => '\u{eae8}',              // Ó´®
    "t"              => Icons::LANG_PERL,        // Óôæ
    "tar"            => Icons::COMPRESSED,       // Ôêê
    "taz"            => Icons::COMPRESSED,       // Ôêê
    "tbz"            => Icons::COMPRESSED,       // Ôêê
    "tbz2"           => Icons::COMPRESSED,       // Ôêê
    "tc"             => Icons::DISK_IMAGE,       // Óâ±
    "tex"            => Icons::LANG_TEX,         // Óöõ
    "tf"             => Icons::TERRAFORM,        // Û±Å¢
    "tfstate"        => Icons::TERRAFORM,        // Û±Å¢
    "tfvars"         => Icons::TERRAFORM,        // Û±Å¢
    "tga"            => Icons::IMAGE,
    "tgz"            => Icons::COMPRESSED,       // Ôêê
    "tif"            => Icons::IMAGE,            // ÔáÖ
    "tiff"           => Icons::IMAGE,            // ÔáÖ
    "tlz"            => Icons::COMPRESSED,       // Ôêê
    "tml"            => Icons::JSON,
    "toml"           => Icons::JSON,             // Óòï
    "torrent"        => '\u{f076}',              // ÔÅ∂
    "ts"             => Icons::LANG_TYPESCRIPT,  // Óò®
    "tsv"            => Icons::SHEET,            // ÔáÉ
    "tsx"            => Icons::REACT,            // Óû∫
    "ttc"            => Icons::FONT,             // ÔÄ±
    "ttf"            => Icons::FONT,             // ÔÄ±
    "twig"           => '\u{e61c}',              // Óòú
    "txt"            => Icons::TEXT,             // ÔÖú
    "typ"            => Icons::TYPST,            // ùê≠
    "txz"            => Icons::COMPRESSED,       // Ôêê
    "tz"             => Icons::COMPRESSED,       // Ôêê
    "tzo"            => Icons::COMPRESSED,       // Ôêê
    "unity"          => Icons::UNITY,            // Óú°
    "unity3d"        => Icons::UNITY,            // Óú°
    "url"            => '\u{f0ac}',              // ÔÇ¨
    "v"              => '\u{e6ac}',              // Óö¨
    "vala"           => '\u{f27d}',              // ÔâΩ
    "vdf"            => '\u{f1b6}',              // ÔÜ∂
    "vdi"            => Icons::DISK_IMAGE,       // Óâ±
    "vhd"            => Icons::DISK_IMAGE,       // Óâ±
    "video"          => Icons::VIDEO,            // ÔÄΩ
    "vim"            => Icons::VIM,              // ÓüÖ
    "vmdk"           => Icons::DISK_IMAGE,       // Óâ±
    "vmt"            => Icons::IMAGE,
    "vpk"            => '\u{f1b7}',              // ÔÜ∑
    "vob"            => Icons::VIDEO,            // ÔÄΩ
    "vtf"            => Icons::IMAGE,
    "vtx"            => '\u{f1b6}',              // ÔÜ∂
    "vue"            => '\u{f0844}',             // Û∞°Ñ
    "vvd"            => '\u{f1b6}',              // ÔÜ∂
    "wasm"           => Icons::BINARY,
    "wat"            => '\u{f471}',              // Ôë±
    "war"            => Icons::LANG_JAVA,        // Óâñ
    "wav"            => Icons::AUDIO,            // ÔÄÅ
    "webm"           => Icons::VIDEO,            // ÔÄΩ
    "webmanifest"    => Icons::JSON,             // Óòã
    "webp"           => Icons::IMAGE,            // ÔáÖ
    "whl"            => Icons::LANG_PYTHON,      // ÓòÜ
    "windows"        => Icons::OS_WINDOWS,       // ÔÖ∫
    "wma"            => Icons::AUDIO,            // ÔÄÅ
    "wmv"            => Icons::VIDEO,            // ÔÄΩ
    "webloc"         => '\u{f0ac}',              // ÔÇ¨
    "woff"           => Icons::FONT,             // ÔÄ±
    "woff2"          => Icons::FONT,             // ÔÄ±
    "wv"             => Icons::AUDIO,            // ÔÄÅ
    "xbps"           => '\u{f187}',              // ÔÜá
    "xcf"            => Icons::IMAGE,            // ÔáÖ
    "xhtml"          => Icons::HTML5,            // ÔÑª
    "xlr"            => Icons::SHEET,            // ÔáÉ
    "xls"            => Icons::SHEET,            // ÔáÉ
    "xlsm"           => Icons::SHEET,            // ÔáÉ
    "xlsx"           => Icons::SHEET,            // ÔáÉ
    "xml"            => Icons::XML,              // Û∞óÄ
    "xpm"            => Icons::IMAGE,            // ÔáÖ
    "xul"            => Icons::XML,              // Û∞óÄ
    "xz"             => Icons::COMPRESSED,       // Ôêê
    "yaml"           => Icons::CONFIG,           // Óòï
    "yml"            => Icons::CONFIG,           // Óòï
    "yuck"           => Icons::LANG_LISP,        // Óö∞
    "z"              => Icons::COMPRESSED,       // Ôêê
    "zig"            => Icons::LANG_ZIG,         // Óö©
    "zip"            => Icons::COMPRESSED,       // Ôêê
    "zsh"            => Icons::SHELL_CMD,        // Ôíâ
    "zsh-theme"      => Icons::SHELL,            // Û±ÜÉ
    "zst"            => Icons::COMPRESSED,       // Ôêê
};

/// Converts the style used to paint a file name into the style that should be
/// used to paint an icon.
///
/// - The background colour should be preferred to the foreground colour, as
///   if one is set, it‚Äôs the more ‚Äúobvious‚Äù colour choice.
/// - If neither is set, just use the default style.
/// - Attributes such as bold or underline should not be used to paint the
///   icon, as they can make it look weird.
pub fn iconify_style(style: Style) -> Style {
    style
        .background
        .or(style.foreground)
        .map(Style::from)
        .unwrap_or_default()
}

/// Lookup the icon for a file based on the file's name, if the entry is a
/// directory, or by the lowercase file extension.
#[cfg(unix)]
pub fn icon_for_file(file: &File<'_>) -> char {
    if file.points_to_directory() {
        *DIRECTORY_ICONS.get(file.name.as_str()).unwrap_or_else(|| {
            if file.is_empty_dir() {
                &Icons::FOLDER_OPEN // ÔÑï
            } else if file.is_link() {
                &Icons::SYMLINK_DIR // ÔíÇ
            } else {
                &Icons::FOLDER // Óóø
            }
        })
    } else if file.is_link() {
        Icons::SYMLINK // ÔíÅ
    } else if let Some(icon) = FILENAME_ICONS.get(file.name.as_str()) {
        *icon
    } else if let Some(ext) = file.ext.as_ref() {
        *EXTENSION_ICONS.get(ext.as_str()).unwrap_or(&Icons::FILE) // ÔÖõ
    } else if file.is_executable_file() {
        Icons::SHELL_CMD // Ôíâ
    } else {
        Icons::FILE_OUTLINE // ÔÄñ
    }
}

/// Lookup the icon for a file based on the file's name, if the entry is a
/// directory, or by the lowercase file extension
#[cfg(windows)]
#[rustfmt::skip]
pub fn icon_for_file(file: &File<'_>) -> char {
    if file.points_to_directory() {
        *DIRECTORY_ICONS.get(file.name.as_str()).unwrap_or_else(|| {
            if file.is_empty_dir() {
                &Icons::FOLDER_OPEN // ÔÑï
            } else if file.is_link() {
                &Icons::SYMLINK_DIR // ÔíÇ
            } else {
                &Icons::FOLDER // Óóø
            }
        })
    } else if file.is_link() {
        Icons::SYMLINK // ÔíÅ
    } else if let Some(icon) = FILENAME_ICONS.get(file.name.as_str()) {
        *icon
    } else if let Some(ext) = file.ext.as_ref() {
        *EXTENSION_ICONS.get(ext.as_str()).unwrap_or(&Icons::FILE) // ÔÖõ
    } else {
        Icons::FILE_OUTLINE // ÔÄñ
    }
}
